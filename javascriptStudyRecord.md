# JavaScriptå­¦ä¹ è®°å½•

## è®°å½•

### è¯´æ˜

* é¡µé¢é‡æ„æ€ä¹ˆæ“ä½œï¼Ÿ

  ``` html
    ç½‘ç«™é‡æ„ï¼šåœ¨ä¸æ”¹å˜å¤–éƒ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œç®€åŒ–ç»“æ„ã€æ·»åŠ å¯è¯»æ€§ï¼Œè€Œåœ¨ç½‘ç«™å‰ç«¯ä¿æŒä¸€è‡´çš„è¡Œä¸ºã€‚
    ä¹Ÿå°±æ˜¯è¯´æ˜¯åœ¨ä¸æ”¹å˜UIçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘ç«™è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨æ‰©å±•çš„åŒæ—¶ä¿æŒä¸€è‡´çš„UIã€‚

    å¯¹äºä¼ ç»Ÿçš„ç½‘ç«™æ¥è¯´é‡æ„é€šå¸¸æ˜¯ï¼š

    è¡¨æ ¼(table)å¸ƒå±€æ”¹ä¸ºDIV + CSS
    ä½¿ç½‘ç«™å‰ç«¯å…¼å®¹äºç°ä»£æµè§ˆå™¨(é’ˆå¯¹äºä¸åˆè§„èŒƒçš„CSSã€å¦‚å¯¹IE6æœ‰æ•ˆçš„)
    å¯¹äºç§»åŠ¨å¹³å°çš„ä¼˜åŒ–
    é’ˆå¯¹äºSEOè¿›è¡Œä¼˜åŒ–
    æ·±å±‚æ¬¡çš„ç½‘ç«™é‡æ„åº”è¯¥è€ƒè™‘çš„æ–¹é¢

    å‡å°‘ä»£ç é—´çš„è€¦åˆ
    è®©ä»£ç ä¿æŒå¼¹æ€§
    ä¸¥æ ¼æŒ‰è§„èŒƒç¼–å†™ä»£ç 
    è®¾è®¡å¯æ‰©å±•çš„API
    ä»£æ›¿æ—§æœ‰çš„æ¡†æ¶ã€è¯­è¨€(å¦‚VB)
    å¢å¼ºç”¨æˆ·ä½“éªŒ
    é€šå¸¸æ¥è¯´å¯¹äºé€Ÿåº¦çš„ä¼˜åŒ–ä¹ŸåŒ…å«åœ¨é‡æ„ä¸­

    å‹ç¼©JSã€CSSã€imageç­‰å‰ç«¯èµ„æº(é€šå¸¸æ˜¯ç”±æœåŠ¡å™¨æ¥è§£å†³)
    ç¨‹åºçš„æ€§èƒ½ä¼˜åŒ–(å¦‚æ•°æ®è¯»å†™)
    é‡‡ç”¨CDNæ¥åŠ é€Ÿèµ„æºåŠ è½½
    å¯¹äºJS DOMçš„ä¼˜åŒ–
    HTTPæœåŠ¡å™¨çš„æ–‡ä»¶ç¼“å­˜
  ```

* 99%çš„ç½‘ç«™éƒ½éœ€è¦è¢«é‡æ„æ˜¯é‚£æœ¬ä¹¦ä¸Šå†™çš„ï¼Ÿ

  ``` html
    ç½‘ç«™é‡æ„ï¼šåº”ç”¨webæ ‡å‡†è¿›è¡Œè®¾è®¡ï¼ˆç¬¬2ç‰ˆï¼‰
  ```

### æ–¹æ³•è®°å½•

 æ ¡éªŒX,Yæ˜¯å¦ç›¸ç­‰

  ``` javascript
    /** 
      * å°è£…æ–¹æ³•æ¯”å¯¹ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰,ä½¿ç”¨äº†instanceof(æ£€æµ‹å¯¹è±¡çš„ç±»å‹)ã€Object.keys(è¿”å›å¯¹è±¡å±æ€§æ•°ç»„)ã€é€’å½’æ–¹æ³•
    */
    function equals (x, y) {
      var f1 = x instanceof Object
      var f2 = y instanceof Object
      if (!f1 || !f2) {
        return x === y
      }
      if (Object.keys(x).length !== Object.keys(y).length) {
        return false
      }
      var newX = Object.keys(x)
      for (var p in newX) {
        p = newX[p]
        var a = x[p] instanceof Object
        var b = y[p] instanceof Object
        if (a && b) {
          const equal = equals(x[p], y[p])
          if (!equal) {
            return equal
          }
        } else if (x[p] !== y[p]) {
          return false
        }
      }
      return true
    }
    console.log(equals([12, 12], [12, 13]))
  ```

#### é—­åŒ…

  ``` javascript
    /** 
      * åœ¨ä¸€ä¸ªå‡½æ•°Aä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°B,Bä¸­å¼•ç”¨äº†Aä¸­çš„å˜é‡,Aè¿”å›Bçš„å¼•ç”¨,åœ¨åˆ«çš„åœ°æ–¹è°ƒç”¨A.
    */
    function say () {
      let num = 666
      return function () {
        num++
        console.log(num)
      }
    }
    function test () {
      let sayConsole = say()
      sayConsole()
      sayConsole()
      sayConsole()
    }
  ```

  ``` javascript
    function count() {
      var arr = []
      for (var i=1 i<=3 i++) {
        arr.push(function () {
          return i * i
        })
      }
      return arr
    }

    var results = count()
    var f1 = results[0]
    var f2 = results[1]
    var f3 = results[2]

    f1() // 16
    f2() // 16
    f3() // 16
    // æ”¹è¿›æ–¹æ³•ï¼Œå¾ªç¯æ—¶å£°æ˜å˜é‡æ–¹å¼æ”¹ä¸ºlet iæˆ–è€…å°†iä¼ å…¥
    /**
      for (var i=1 i<=3 i++) {
        arr.push((function (n) {
          return function () {
            return n * n
          }
        })(i))
      }
    */
  ```

  æ³¨æ„è¿™é‡Œç”¨äº†ä¸€ä¸ªâ€œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œâ€çš„è¯­æ³•ï¼š

  ``` javascript
    (function (x) {
      return x * x
    })(3) // 9
  ```

  ç†è®ºä¸Šè®²ï¼Œåˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç«‹åˆ»æ‰§è¡Œå¯ä»¥è¿™ä¹ˆå†™ï¼š

  `function (x) { return x * x } (3)`
  ä½†æ˜¯ç”±äºJavaScriptè¯­æ³•è§£æçš„é—®é¢˜ï¼Œä¼šæŠ¥SyntaxErroré”™è¯¯ï¼Œå› æ­¤éœ€è¦ç”¨æ‹¬å·æŠŠæ•´ä¸ªå‡½æ•°å®šä¹‰æ‹¬èµ·æ¥ï¼š

  `(function (x) { return x * x }) (3)`
  é€šå¸¸ï¼Œä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°å¯ä»¥æŠŠå‡½æ•°ä½“æ‹†å¼€ï¼Œä¸€èˆ¬è¿™ä¹ˆå†™ï¼š

  ``` javascript
    (function (x) {
      return x * x
    })(3)
  ```

  è¯´äº†è¿™ä¹ˆå¤šï¼Œéš¾é“é—­åŒ…å°±æ˜¯ä¸ºäº†è¿”å›ä¸€ä¸ªå‡½æ•°ç„¶åå»¶è¿Ÿæ‰§è¡Œå—ï¼Ÿ

  å½“ç„¶ä¸æ˜¯ï¼é—­åŒ…æœ‰éå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚ä¸¾ä¸ªæ —å­ï¼š

  åœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€é‡Œï¼Œæ¯”å¦‚Javaå’ŒC++ï¼Œè¦åœ¨å¯¹è±¡å†…éƒ¨å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œå¯ä»¥ç”¨privateä¿®é¥°ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚

  åœ¨æ²¡æœ‰classæœºåˆ¶ï¼Œåªæœ‰å‡½æ•°çš„è¯­è¨€é‡Œï¼Œå€ŸåŠ©é—­åŒ…ï¼ŒåŒæ ·å¯ä»¥å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ã€‚æˆ‘ä»¬ç”¨JavaScriptåˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼š
  è®¡æ•°å™¨

  ``` javascript
    function creat_counter(initial) {
      var x = initial || 0
      return {
        inc: function () {
          x += 1
          return x
        }
      }
    }
    
    var c1 = create_counter()
    c1.inc() // 1
    c1.inc() // 2
    c1.inc() // 3

    var c2 = create_counter(10)
    c2.inc() // 11
    c2.inc() // 12
    c2.inc() // 13
  ```

#### Array

#### slice

  `slice()`å°±æ˜¯å¯¹åº”`String`çš„`substring()`ç‰ˆæœ¬ï¼Œæˆªå–`Array`çš„éƒ¨åˆ†å…ƒç´ ï¼Œè¿”å›æ–°çš„Array

  ``` javascript
    var arr = ['A', 'B', 'C', 'D', 'E', 'F', 'G']
    arr.slice(0, 3) // ä»ç´¢å¼•0å¼€å§‹ï¼Œåˆ°ç´¢å¼•3ç»“æŸï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•3: ['A', 'B', 'C']
    arr.slice(3) // ä»ç´¢å¼•3å¼€å§‹åˆ°ç»“æŸ: ['D', 'E', 'F', 'G']
  ```

  æ³¨æ„åˆ°`slice()`çš„èµ·æ­¢å‚æ•°åŒ…æ‹¬å¼€å§‹ç´¢å¼•ï¼Œä¸åŒ…æ‹¬ç»“æŸç´¢å¼•ã€‚
  <ä»£ç å†™åœ¨è¿™>
  å¦‚æœä¸ç»™`slice()`ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå®ƒå°±ä¼šä»å¤´åˆ°å°¾æˆªå–æ‰€æœ‰å…ƒç´ ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å¤åˆ¶ä¸€ä¸ª`Array`ï¼š

  ``` javascript
    var arr = ['A', 'B', 'C', 'D', 'E', 'F', 'G']
    let aCopy = arr.slice()
    aCopy // ['A', 'B', 'C', 'D', 'E', 'F', 'G']
    aCopy === arr // false
  ```

#### pushå’Œpop

  `push()`å‘`Array`æœ«å°¾æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œ`pop()`åˆ é™¤`Array`æœ€åä¸€ä¸ªå…ƒç´ 

  ``` javascript
    var arr = [1, 2]
    arr.push('A', 'B') // è¿”å›Arrayæ–°çš„é•¿åº¦: 4
    arr // [1, 2, 'A', 'B']
    arr.pop() // pop()è¿”å›'B'
    arr // [1, 2, 'A']
    arr.pop() arr.pop() arr.pop() // è¿ç»­pop 3æ¬¡
    arr // []
    arr.pop() // ç©ºæ•°ç»„ç»§ç»­popä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è¿”å›undefined
    arr // []  
  ```

#### unshiftå’Œshift

  `unshift()`å‘`Array`å¤´éƒ¨æ·»åŠ è‹¥å¹²å…ƒç´ ,`shift()`åˆ é™¤`Array`ç¬¬ä¸€ä¸ªå…ƒç´ 

  ``` javascript
    var arr = [1, 2]
    arr.unshift('A', 'B') // è¿”å›Arrayæ–°çš„é•¿åº¦: 4
    arr // ['A', 'B', 1, 2]
    arr.shift() // 'A'
    arr // ['B', 1, 2]
    arr.shift() arr.shift() arr.shift() // è¿ç»­shift 3æ¬¡
    arr // []
    arr.shift() // ç©ºæ•°ç»„ç»§ç»­shiftä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è¿”å›undefined
    arr // []
  ```

#### sort

  `sort()`å¯ä»¥å¯¹å½“å‰`Array`è¿›è¡Œæ’åºï¼Œå®ƒä¼šç›´æ¥ä¿®æ”¹å½“å‰`Array`çš„å…ƒç´ ä½ç½®ï¼Œç›´æ¥è°ƒç”¨æ—¶ï¼ŒæŒ‰ç…§é»˜è®¤é¡ºåºæ’åºï¼š

  1. å‡åº

      ``` javascript
        var arr = [1,2,4,3,9,6,5,7,8]
        arr.sort((a, b)=> a-b)
      ```

  1. é™åº

      ``` javascript
        var arr = [1,2,4,3,9,6,5,7,8]
        arr.sort((a, b)=> b-a)
      ```

  1. å­—ç¬¦ä¸²æ’åº

      ``` javascript
        var arr = ['Google', 'apple', 'Microsoft']
        arr.sort(function (s1, s2) {
            x1 = s1.toUpperCase()
            x2 = s2.toUpperCase()
            if (x1 < x2) {
                return -1
            }
            if (x1 > x2) {
                return 1
            }
            return 0
        }) // ['apple', 'Google', 'Microsoft']
      ```

  1. æŒ‰ç…§å…ƒç´ å±æ€§æ’åº

      ``` javascript
        function compare(prop) {
          return (a, b) => {
            return a[prop] - b[prop]
          }
        }
        var arr = [
          {
            name: 'å¼ ä¸‰',
            age: 17
          }, {
            name: 'æå››',
            age: 19
          }, {
            name: 'ç‹äºŒ',
            age: 16
          }
        ]
        arr.sort(compare('age'))
      ```  

  1. æ ¹æ®å‚æ•°ç¡®å®šå‡åºoré™åº

      ``` javascript
        function compare(prop, rev = true) {
          rev = rev ? 1 : -1
          return (a, b) => {
            return a[prop] > b[prop] ? rev * 1 : rev * -1
          }
        }
        var arr = [
          {
            name: 'å¼ ä¸‰',
            age: 17
          }, {
            name: 'æå››',
            age: 19
          }, {
            name: 'ç‹äºŒ',
            age: 16
          }
        ]
        arr.sort(compare('age', false))
      ```

#### reverse

  `reverse()`åè½¬`Array`å…ƒç´ é¡ºåº

  ``` javascript
    var arr = [1,3,5,7,9]
    arr.reverse()
    arr
  ```

#### splice

  `splice()`æ˜¯ä¿®æ”¹`Array`çš„ä¸‡èƒ½æ–¹æ³•ï¼Œå®ƒå¯ä»¥ä»æŒ‡å®šä½ç½®åˆ é™¤è‹¥å¹²å…ƒç´ ï¼Œç„¶åå†ä»è¯¥ä½ç½®æ·»åŠ è‹¥å¹²å…ƒç´ 

  ``` javascript
    var arr = ['Microsoft', 'Apple', 'Yahoo', 'AOL', 'Excite', 'Oracle']
    // ä»ç´¢å¼•2å¼€å§‹åˆ é™¤3ä¸ªå…ƒç´ ,ç„¶åå†æ·»åŠ ä¸¤ä¸ªå…ƒç´ :
    arr.splice(2, 3, 'Google', 'Facebook') // è¿”å›åˆ é™¤çš„å…ƒç´  ['Yahoo', 'AOL', 'Excite']
    arr // ['Microsoft', 'Apple', 'Google', 'Facebook', 'Oracle']
    // åªåˆ é™¤,ä¸æ·»åŠ :
    arr.splice(2, 2) // ['Google', 'Facebook']
    arr // ['Microsoft', 'Apple', 'Oracle']
    // åªæ·»åŠ ,ä¸åˆ é™¤:
    arr.splice(2, 0, 'Google', 'Facebook') // è¿”å›[],å› ä¸ºæ²¡æœ‰åˆ é™¤ä»»ä½•å…ƒç´ 
    arr // ['Microsoft', 'Apple', 'Google', 'Facebook', 'Oracle']
  ```

#### concat

  `concat()`æ–¹æ³•æŠŠå½“å‰`Array`ä¸å¦ä¸€ä¸ª`Array`è¿æ¥èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ªæ–°`Array`

  ``` javascript
    var arr = ['A', 'B', 'C']
    var added = arr.concat([1, 2, 3])
    added // ['A', 'B', 'C', 1, 2, 3]
    arr // ['A', 'B', 'C']
  ```

  `concat()`æ–¹æ³•å¹¶æ²¡æœ‰ä¿®æ”¹åŸæ¥çš„`Array`ï¼Œè€Œæ˜¯è¿”å›äº†ä¸€ä¸ªæ–°çš„`Array`
  `concat()`æ–¹æ³•å¯ä»¥æ¥æ”¶ä»»æ„ä¸ªå…ƒç´ å’Œ`Array`ï¼Œå¹¶å°†`Array`è‡ªåŠ¨æ‹†å¼€æ·»åŠ åˆ°æ–°çš„`Array`é‡Œ

  ``` javascript
    var arr = ['A', 'B', 'C']
    arr.concat(1, 2, [3, 4]) // ['A', 'B', 'C', 1, 2, 3, 4]
  ```

#### join

  `join()`æ–¹æ³•æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„æ–¹æ³•ï¼Œå®ƒæŠŠå½“å‰Arrayçš„æ¯ä¸ªå…ƒç´ éƒ½ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œç„¶åè¿”å›è¿æ¥åçš„å­—ç¬¦ä¸²ï¼š

  ``` javascript
    var arr = ['A', 'B', 'C', 1, 2, 3]
    arr.join('-') // 'A-B-C-1-2-3'
  ```

  å¦‚æœ`Array`çš„å…ƒç´ ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°†è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²åå†è¿æ¥ã€‚

#### å‡½æ•°

* æ–¹æ³•
  å¯¹è±¡ä¸­ç»‘å®šå‡½æ•°ï¼Œç§°ä¹‹ä¸ºæ–¹æ³•

##### apply

  æ§åˆ¶`this`çš„æŒ‡å‘

  ``` javascript
    function getAge() {
      var y = new Date().getFullYear()
      return y - this.birth
    }

    var xiaoming = {
      name: 'å°æ˜',
      birth: 1990,
      age: getAge
    }

    xiaoming.age() // 25
    getAge.apply(xiaoming, []) // 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º
  ```

##### è£…é¥°å™¨

  åˆ©ç”¨`apply()`ï¼ŒåŠ¨æ€æ”¹å˜å‡½æ•°çš„è¡Œä¸º

  JavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œå³ä½¿å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å‘æ–°çš„å‡½æ•°ã€‚

  ç°åœ¨å‡å®šæˆ‘ä»¬æƒ³ç»Ÿè®¡ä¸€ä¸‹ä»£ç ä¸€å…±è°ƒç”¨äº†å¤šå°‘æ¬¡`parseInt()`ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„è°ƒç”¨éƒ½æ‰¾å‡ºæ¥ï¼Œç„¶åæ‰‹åŠ¨åŠ ä¸Š`count += 1`ï¼Œä¸è¿‡è¿™æ ·åšå¤ªå‚»äº†ã€‚æœ€ä½³æ–¹æ¡ˆæ˜¯ç”¨æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°æ›¿æ¢æ‰é»˜è®¤çš„`parseInt()`ï¼š

  ``` javascript
    var count = 0
    var oldParseInt = parseInt // ä¿å­˜åŸå‡½æ•°

    window.parseInt = function () {
        count += 1
        return oldParseInt.apply(null, arguments) // è°ƒç”¨åŸå‡½æ•°
    }
    // æµ‹è¯•:
    parseInt('10')
    parseInt('20')
    parseInt('30')
    console.log('count = ' + count) // 3
  ```

#### é«˜é˜¶å‡½æ•°

  è®©å‡½æ•°çš„å‚æ•°èƒ½å¤Ÿæ¥æ”¶åˆ«çš„å‡½æ•°ã€‚

  ``` javascript
    function add(x, y, f) {
      return f(x) + f(y)
    }
    var x = add(-5, 6, Math.abs) // 11
    console.log(x)
  ```

##### map

  æ•°æ®åŠ å·¥

  ```javascript
    function pow(x) {
        return x * x
    }
    var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    var results = arr.map(pow) // [1, 4, 9, 16, 25, 36, 49, 64, 81]
    console.log(results)
  ```

  å°†å§“åé¦–å­—æ¯è½¬å¤§å†™ï¼Œå…¶ä½™å°å†™

  ``` javascript
    function normalize(arr) {
      return arr.map(e=>e[0].toUpperCase()+e.substring(1).toLowerCase())
    }
    // æµ‹è¯•:
    if (normalize(['adam', 'LISA', 'barT']).toString() === ['Adam', 'Lisa', 'Bart'].toString()) {
      console.log('æµ‹è¯•é€šè¿‡!')
    }
    else {
      console.log('æµ‹è¯•å¤±è´¥!')
    }
  ```

##### reduce

  1. æ±‡æ€»
    Arrayçš„reduce()æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨è¿™ä¸ªArrayçš„[x1, x2, x3...]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæœå°±æ˜¯ï¼š
    æ±‚å’Œ

      ``` javascript
        var arr = [1, 3, 5, 7, 9]
        arr.reduce(function (x, y) {
          return x + y
        })
      ```

  1. æ±‚ç§¯

      ``` javascript
        function product(arr) {
          return arr.reduce((pre, cure) => pre * cure)
        }
        // æµ‹è¯•:
        if (product([1, 2, 3, 4]) === 24 && product([0, 1, 2]) === 0 && product([99, 88, 77, 66]) === 44274384) {
          console.log('æµ‹è¯•é€šè¿‡!')
        }
        else {
          console.log('æµ‹è¯•å¤±è´¥!')
        }
      ```

      æŠŠ`[1, 3, 5, 7, 9]`å˜æ¢æˆæ•´æ•°`13579`

      ``` javascript
        [1, 3, 5, 7, 9].reduce((pre, cure) => pre*10+cure)
      ```

      ä¸è¦ä½¿ç”¨`JavaScript`å†…ç½®çš„`parseInt()`å‡½æ•°ï¼Œåˆ©ç”¨`map`å’Œ`reduce`æ“ä½œå®ç°ä¸€ä¸ª`string2int()`å‡½æ•°ï¼š

      ``` javascript
        function string2int(val) {
          let arr = val.split('')
          return arr.map(e => e *1).reduce((pre, cure) => pre*10+cure)
        }
        string2int('46489515')
      ```

##### filter

  ç”¨äºæŠŠ`Array`çš„æŸäº›å…ƒç´ è¿‡æ»¤æ‰ï¼Œç„¶åè¿”å›å‰©ä¸‹çš„å…ƒç´ ã€‚å’Œ`map()`ç±»ä¼¼ï¼Œ`Array`çš„`filter()`ä¹Ÿæ¥æ”¶ä¸€ä¸ªå‡½æ•°ã€‚å’Œ`map()`ä¸åŒçš„æ˜¯ï¼Œ`filter()`æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œç„¶åæ ¹æ®è¿”å›å€¼æ˜¯`true`è¿˜æ˜¯`false`å†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚

  1. åœ¨ä¸€ä¸ª`Array`ä¸­ï¼Œåˆ æ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°

      ``` javascript
        var arr = [1, 2, 4, 5, 6, 9, 10, 15]
        var r = arr.filter(function (x) {
            return x % 2 !== 0
        })
        r // [1, 5, 9, 15]
      ```

  1. åˆ©ç”¨filterï¼Œå¯ä»¥å·§å¦™åœ°å»é™¤`Array`çš„é‡å¤å…ƒç´ ï¼š

      ``` javascript
        var r,
          arr = ['apple', 'strawberry', 'banana', 'pear', 'apple', 'orange', 'orange', 'strawberry']
          r = arr.filter(function (element, index, self) {
              return self.indexOf(element) === index
          })

          console.log(r.toString())
      ```

##### every

  `every()`æ–¹æ³•å¯ä»¥åˆ¤æ–­æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³æµ‹è¯•æ¡ä»¶ã€‚

  ç»™å®šä¸€ä¸ªåŒ…å«è‹¥å¹²å­—ç¬¦ä¸²çš„æ•°ç»„ï¼Œåˆ¤æ–­æ‰€æœ‰å­—ç¬¦ä¸²æ˜¯å¦æ»¡è¶³æŒ‡å®šçš„æµ‹è¯•æ¡ä»¶ï¼š

  ``` javascript
    'use strict'
    var arr = ['Apple', 'pear', 'orange']
    console.log(arr.every(function (s) {
        return s.length > 0
    })) // true, å› ä¸ºæ¯ä¸ªå…ƒç´ éƒ½æ»¡è¶³s.length>0

    console.log(arr.every(function (s) {
        return s.toLowerCase() === s
    })) // false, å› ä¸ºä¸æ˜¯æ¯ä¸ªå…ƒç´ éƒ½å…¨éƒ¨æ˜¯å°å†™
  ```

##### find

  `find()`æ–¹æ³•ç”¨äºæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œè¿”å›è¿™ä¸ªå…ƒç´ ï¼Œå¦åˆ™ï¼Œè¿”å›`undefined`ï¼š

  ``` javascript
    'use strict'
    var arr = ['Apple', 'pear', 'orange']
    console.log(arr.find(function (s) {
        return s.toLowerCase() === s
    })) // 'pear', å› ä¸ºpearå…¨éƒ¨æ˜¯å°å†™

    console.log(arr.find(function (s) {
        return s.toUpperCase() === s
    })) // undefined, å› ä¸ºæ²¡æœ‰å…¨éƒ¨æ˜¯å¤§å†™çš„å…ƒç´ 
  ```

##### findIndex

  `findIndex()`å’Œ`find()`ç±»ä¼¼ï¼Œä¹Ÿæ˜¯æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸åŒä¹‹å¤„åœ¨äº`findIndex()`ä¼šè¿”å›è¿™ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›-1ï¼š

  ``` javascript
    'use strict'
    var arr = ['Apple', 'pear', 'orange']
    console.log(arr.findIndex(function (s) {
        return s.toLowerCase() === s
    })) // 1, å› ä¸º'pear'çš„ç´¢å¼•æ˜¯1

    console.log(arr.findIndex(function (s) {
        return s.toUpperCase() === s
    })) // -1
  ```

##### forEach

  `forEach()`å’Œ`map()`ç±»ä¼¼ï¼Œå®ƒä¹ŸæŠŠæ¯ä¸ªå…ƒç´ ä¾æ¬¡ä½œç”¨äºä¼ å…¥çš„å‡½æ•°ï¼Œä½†ä¸ä¼šè¿”å›æ–°çš„æ•°ç»„ã€‚`forEach()`å¸¸ç”¨äºéå†æ•°ç»„ï¼Œå› æ­¤ï¼Œä¼ å…¥çš„å‡½æ•°ä¸éœ€è¦è¿”å›å€¼ï¼š

  ``` javascript
    'use strict'
    var arr = ['Apple', 'pear', 'orange']
    arr.forEach(console.log) // ä¾æ¬¡æ‰“å°æ¯ä¸ªå…ƒç´ 
  ```

##### generator

  `generator(ç”Ÿæˆå™¨)`æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ª`generator`çœ‹ä¸Šå»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¯ä»¥è¿”å›å¤šæ¬¡
  æ–æ³¢é‚£å¥‘æ•°åˆ—

  ``` javascript
    function* fib (max) {
      var a = 0,
        b = 1,
        n = 0
      while(n < max) {
        yield a
        [a, b] = [b, a + b]
        n++
      }
      return
    }

    var f = fib(5)
    f.next()
  ```

  ä¸ä½¿ç”¨é—­åŒ…çš„è®¡æ•°å™¨

  ``` javascript
    function* next_id() {
      var current_id = 0
      yield current_id ++
      return current_id
    }

    // æµ‹è¯•:
    var
      x,
      pass = true,
      g = next_id()
    for (x = 1 x < 100 x ++) {
      if (g.next().value !== x) {
        pass = false
        console.log('æµ‹è¯•å¤±è´¥!')
        break
      }
    }
    if (pass) {
      console.log('æµ‹è¯•é€šè¿‡!')
    }
  ```

#### class

  ``` javascript
    class Student {
      constructor(name) {
        this.name = name
      }

      hello() {
        alert('Hello, ' + this.name + '!')
      }
    }

    var xiaoming = new Student('å°æ˜')
    xiaoming.hello()
  ```

##### extends

  ç»§æ‰¿
  æ³¨æ„`PrimaryStudent`çš„å®šä¹‰ä¹Ÿæ˜¯`class`å…³é”®å­—å®ç°çš„ï¼Œè€Œ`extends`åˆ™è¡¨ç¤ºåŸå‹é“¾å¯¹è±¡æ¥è‡ª`Student`ã€‚å­ç±»çš„æ„é€ å‡½æ•°å¯èƒ½ä¼šä¸çˆ¶ç±»ä¸å¤ªç›¸åŒï¼Œä¾‹å¦‚ï¼Œ`PrimaryStudent`éœ€è¦`name`å’Œ`grade`ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éœ€è¦é€šè¿‡`super(name)`æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦åˆ™çˆ¶ç±»çš„nameå±æ€§æ— æ³•æ­£å¸¸åˆå§‹åŒ–ã€‚

  ``` javascript
    class PrimaryStudent extends Student {
      constructor(name, grade) {
        super(name) // è®°å¾—ç”¨superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•!
        this.grade = grade
      }

      myGrade() {
        alert('I am at grade ' + this.grade)
      }
    }
  ```

### è®¾è®¡æ¨¡å¼

#### å·¥å‚æ¨¡å¼

å·¥å‚æ¨¡å¼å…¶å®å°±æ˜¯**å°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å•ç‹¬å°è£…**ã€‚å®ƒå¾ˆåƒæˆ‘ä»¬å»é¤é¦†ç‚¹èœï¼šæ¯”å¦‚è¯´ç‚¹ä¸€ä»½è¥¿çº¢æŸ¿ç‚’è›‹ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒè¥¿çº¢æŸ¿æ€ä¹ˆåˆ‡ã€æ€ä¹ˆæ‰“é¸¡è›‹è¿™äº›èœå“åˆ¶ä½œè¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼Œæˆ‘ä»¬åªå…³å¿ƒæ‘†ä¸Šæ¡Œé‚£é“èœã€‚åœ¨å·¥å‚æ¨¡å¼é‡Œï¼Œæˆ‘ä¼ å‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç‚¹èœï¼Œå·¥å‚å‡½æ•°é‡Œé¢è¿è½¬çš„é€»è¾‘å°±ç›¸å½“äºç‚’èœçš„å¨å¸ˆå’Œä¸Šæ¡Œçš„æœåŠ¡å‘˜åšæ‰çš„é‚£éƒ¨åˆ†å·¥ä½œâ€”â€”è¿™éƒ¨åˆ†å·¥ä½œæˆ‘ä»¬åŒæ ·ä¸ç”¨å…³å¿ƒï¼Œæˆ‘ä»¬åªè¦èƒ½æ‹¿åˆ°å·¥å‚äº¤ä»˜ç»™æˆ‘ä»¬çš„å®ä¾‹ç»“æœå°±è¡Œäº†ã€‚

æ€»ç»“ä¸€ä¸‹ï¼šå·¥å‚æ¨¡å¼çš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†å®ç°**æ— è„‘ä¼ å‚**ï¼Œå°±æ˜¯ä¸ºäº†çˆ½ï¼

å…ˆæ¥è¯´è¯´æ„é€ å™¨
åœ¨ä»‹ç»å·¥å‚æ¨¡å¼ä¹‹å‰ï¼Œä¸ºäº†è¾…åŠ©å¤§å®¶çš„ç†è§£ï¼Œæˆ‘æƒ³å…ˆåœ¨è¿™å„¿ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹æ„é€ å™¨æ¨¡å¼ã€‚

åˆ«çœ‹è¿™ä¸ªåå­—å¾ˆå“äººï¼ˆå…¶å®è®¾è®¡æ¨¡å¼é‡Œæ¯ä¸ªåå­—å¥½åƒéƒ½æŒºå“äººçš„å“ˆå“ˆå“ˆï¼‰ï¼Œè¿™ç©æ„å„¿ä½ å‡ ä¹å¤©å¤©ç”¨ï¼ˆæ‰€ä»¥å’±ä»¬ä¸å•ç‹¬ç»™å®ƒå¼€å°èŠ‚ï¼‰ï¼Œä¸ä¿¡ä½ æ¥çœ‹çœ‹ï¼š

æœ‰ä¸€å¤©ä½ å†™äº†ä¸ªå…¬å¸å‘˜å·¥ä¿¡æ¯å½•å…¥ç³»ç»Ÿï¼Œè¿™ä¸ªç³»ç»Ÿå¼€å‘é˜¶æ®µç”¨æˆ·åªæœ‰ä½ è‡ªå·±ï¼Œæƒ³æ€ä¹ˆç©æ€ä¹ˆç©ã€‚äºæ˜¯åœ¨åˆ›å»ºâ€œè‡ªå·±â€è¿™ä¸ªå”¯ä¸€çš„ç”¨æˆ·çš„æ—¶å€™ï¼Œä½ å¯ä»¥è¿™ä¹ˆå†™ï¼š

``` javascript
const liLei = {
    name: 'æé›·',
    age: 25,
    career: 'coder',
}
```

æœ‰ä¸€å¤©ä½ çš„åŒæ¡ŒéŸ©æ¢…æ¢…çªç„¶è¯´ï¼šâ€œæé›·ï¼Œè®©æˆ‘ç…ç…ä½ çš„ç³»ç»Ÿåšå¾—å’‹æ ·äº†ï¼Œæˆ‘ä¹Ÿæƒ³è¢«å½•è¿›å»â€ã€‚ä½ è¯´å¥½ï¼Œä¸å°±å¤šä¸€ä¸ªäººçš„äº‹æƒ…å—ï¼Œäºæ˜¯ä»£ç é‡Œæ‰‹åŠ¨å¤šäº†ä¸€ä¸ªéŸ©æ¢…æ¢…ï¼š

``` javascript
const liLei = {
    name: 'æé›·',
    age: 25,
    career: 'coder',
}

const hanMeiMei = {
    name: 'éŸ©æ¢…æ¢…',
    age: 24,
    career: 'product manager'
}
```

åˆè¿‡äº†ä¸¤å¤©ä½ è€æ¿è¿‡æ¥äº†ï¼Œè¯´æé›·ï¼Œç³»ç»Ÿä»Šå¤©ææµ‹äº†ï¼Œå…ˆæŠŠéƒ¨é—¨çš„ 500 äººå½•å…¥çœ‹çœ‹åŠŸèƒ½ã€‚æé›·å¿ƒæƒ³ï¼Œ500 ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œè¦æ­»è¦æ­»ï¼Œè¿˜å¥½æˆ‘æœ‰**æ„é€ å‡½æ•°**ã€‚äºæ˜¯æé›·å†™å‡ºäº†ä¸€ä¸ªå¯ä»¥è‡ªåŠ¨åˆ›å»ºç”¨æˆ·çš„ `User` å‡½æ•°ï¼š

``` javascript
function User(name , age, career) {
    this.name = name
    this.age = age
    this.career = career
}
```

æ¥¼ä¸Šä¸ªè¿™ `User`ï¼Œå°±æ˜¯ä¸€ä¸ª**æ„é€ å™¨**ã€‚æ­¤å¤„æˆ‘ä»¬é‡‡ç”¨äº† `ES5` æ„é€ å‡½æ•°çš„å†™æ³•ï¼Œå› ä¸º `ES6` ä¸­çš„ `class` å…¶å®æœ¬è´¨ä¸Šè¿˜æ˜¯å‡½æ•°ï¼Œ`class` è¯­æ³•åªæ˜¯è¯­æ³•ç³–ï¼Œæ„é€ å‡½æ•°ï¼Œæ‰æ˜¯å®ƒçš„çœŸé¢ç›®ã€‚

æ¥ä¸‹æ¥è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯è®©ç¨‹åºè‡ªåŠ¨åœ°å»è¯»å–æ•°æ®åº“é‡Œé¢ä¸€è¡Œè¡Œçš„å‘˜å·¥ä¿¡æ¯ï¼Œç„¶åæŠŠæ‹¿åˆ°çš„å§“åã€å¹´é¾„ç­‰å­—æ®µå¡è¿›`User`å‡½æ•°é‡Œï¼Œè¿›è¡Œä¸€ä¸ªç®€å•çš„è°ƒç”¨ï¼š

`const user = new User(name, age, career)`
ä»æ­¤æé›·å†ä¹Ÿä¸ç”¨æ‰‹å†™å­—é¢é‡ã€‚

åƒ `User` è¿™æ ·å½“æ–°å»ºå¯¹è±¡çš„å†…å­˜è¢«åˆ†é…åï¼Œç”¨æ¥åˆå§‹åŒ–è¯¥å¯¹è±¡çš„ç‰¹æ®Šå‡½æ•°ï¼Œå°±å«åšæ„é€ å™¨ã€‚åœ¨ `JavaScript` ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°å»åˆå§‹åŒ–å¯¹è±¡ï¼Œå°±æ˜¯åº”ç”¨äº†**æ„é€ å™¨æ¨¡å¼**ã€‚è¿™ä¸ªæ¨¡å¼å¤ªç®€å•äº†ï¼Œç®€å•åˆ°æˆ‘è¿™ä¸€é€šè®²å¯¹å¾ˆå¤šåŒå­¦æ¥è¯´å…¶å®å¹¶ä¸å¿…è¦ï¼Œå¤§å®¶éƒ½æ˜¯å­¦è¿‡ `JavaScript` åŸºç¡€çš„äººï¼Œéƒ½çŸ¥é“æ€ä¹ˆ `new` ä¸€ä¸ªå¯¹è±¡ã€‚ä½†æ˜¯æˆ‘ä»¬æ´‹æ´‹æ´’æ´’è¿™ä¹ˆä¸€æ®µçš„ç›®çš„ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†å¸¦å¤§å®¶å¤ä¹ æ„é€ å‡½æ•°æœ¬èº«çš„ç”¨æ³•ï¼Œè€Œæ˜¯å¸Œæœ›å¤§å®¶å»æ€è€ƒå¼€ç¯‡æˆ‘ä»¬æåˆ°çš„é—®é¢˜ï¼š

**åœ¨åˆ›å»ºä¸€ä¸ª`user`è¿‡ç¨‹ä¸­ï¼Œè°å˜äº†ï¼Œè°ä¸å˜ï¼Ÿ**

å¾ˆæ˜æ˜¾ï¼Œå˜çš„æ˜¯æ¯ä¸ª`user`çš„å§“åã€å¹´é¾„ã€å·¥ç§è¿™äº›å€¼ï¼Œè¿™æ˜¯ç”¨æˆ·çš„**ä¸ªæ€§**ï¼Œä¸å˜çš„æ˜¯æ¯ä¸ªå‘˜å·¥éƒ½å…·å¤‡å§“åã€å¹´é¾„ã€å·¥ç§è¿™äº›å±æ€§ï¼Œè¿™æ˜¯ç”¨æˆ·çš„**å…±æ€§**ã€‚

**é‚£ä¹ˆæ„é€ å™¨åšäº†ä»€ä¹ˆï¼Ÿ**

æ„é€ å™¨æ˜¯ä¸æ˜¯å°† `nameã€ageã€career` èµ‹å€¼ç»™å¯¹è±¡çš„è¿‡ç¨‹å°è£…ï¼Œç¡®ä¿äº†æ¯ä¸ªå¯¹è±¡éƒ½å…·å¤‡è¿™äº›å±æ€§ï¼Œç¡®ä¿äº†å…±æ€§çš„ä¸å˜ï¼ŒåŒæ—¶å°† `nameã€ageã€career` å„è‡ªçš„å–å€¼æ“ä½œå¼€æ”¾ï¼Œç¡®ä¿äº†ä¸ªæ€§çš„çµæ´»ï¼Ÿ

å¦‚æœåœ¨ä½¿ç”¨æ„é€ å™¨æ¨¡å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šæ˜¯å»æŠ½è±¡äº†æ¯ä¸ªå¯¹è±¡å®ä¾‹çš„å˜ä¸ä¸å˜ã€‚é‚£ä¹ˆä½¿ç”¨å·¥å‚æ¨¡å¼æ—¶ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å»æŠ½è±¡ä¸åŒæ„é€ å‡½æ•°ï¼ˆç±»ï¼‰ä¹‹é—´çš„å˜ä¸ä¸å˜ã€‚

##### ç®€å•å·¥å‚

å’±ä»¬å…ˆä¸è¯´ç®€å•å·¥å‚æ¨¡å¼å®šä¹‰æ˜¯å•¥ï¼Œå’±ä»¬å…ˆæ¥çœ‹æé›·çš„æ–°éœ€æ±‚ï¼š

è€æ¿è¯´è¿™ä¸ªç³»ç»Ÿå½•å…¥çš„ä¿¡æ¯ä¹Ÿå¤ªç®€å•äº†ï¼Œç¨‹åºå‘˜å’Œäº§å“ç»ç†ä¹‹é—´çš„åŒºåˆ«ä¸€ä¸ªç®€å•çš„`career`å­—æ®µæ€ä¹ˆèƒ½è¯´å¾—æ¸…ï¼Ÿæˆ‘è¦æ±‚è¿™ä¸ªç³»ç»Ÿå…·å¤‡**ç»™ä¸åŒå·¥ç§åˆ†é…èŒè´£è¯´æ˜**çš„åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ç»™æ¯ä¸ªå·¥ç§çš„ç”¨æˆ·åŠ ä¸Šä¸€ä¸ªä¸ªæ€§åŒ–çš„å­—æ®µï¼Œæ¥æè¿°ä»–ä»¬çš„å·¥ä½œå†…å®¹ã€‚

å®Œäº†ï¼Œè¿™ä¸‹å‘˜å·¥çš„å…±æ€§è¢«æ‹†ç¦»äº†ã€‚è¿˜å¥½æœ‰æ„é€ å™¨ï¼Œæé›·å¿ƒæƒ³ä¸å°±æ˜¯å¤šå†™ä¸ªæ„é€ å™¨çš„äº‹å„¿å—ï¼Œæˆ‘å†™ï¼š

``` javascript
function Coder(name , age) {
    this.name = name
    this.age = age
    this.career = 'coder'
    this.work = ['å†™ä»£ç ','å†™ç³»åˆ†', 'ä¿®Bug']
}
function ProductManager(name, age) {
    this.name = name
    this.age = age
    this.career = 'product manager'
    this.work = ['è®¢ä¼šè®®å®¤', 'å†™PRD', 'å‚¬æ›´']
}
```

ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»ï¼ˆåé¢å¯èƒ½è¿˜ä¼šæœ‰æ›´å¤šçš„ç±»ï¼‰ï¼Œéº»çƒ¦çš„äº‹æƒ…æ¥äº†ï¼šéš¾é“æˆ‘æ¯ä»æ•°æ®åº“æ‹¿åˆ°ä¸€æ¡æ•°æ®ï¼Œéƒ½è¦äººå·¥åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ªå‘˜å·¥çš„å·¥ç§ï¼Œç„¶åæ‰‹åŠ¨ç»™å®ƒåˆ†é…æ„é€ å™¨å—ï¼Ÿä¸è¡Œï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªâ€œå˜â€ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªâ€œå˜â€äº¤ç»™ä¸€ä¸ªå‡½æ•°å»å¤„ç†ï¼š

``` javascript
function Factory(name, age, career) {
    switch(career) {
        case 'coder':
            return new Coder(name, age)
            break
        case 'product manager':
            return new ProductManager(name, age)
            break
        ...
}
```

çœ‹èµ·æ¥æ˜¯å¥½ä¸€äº›äº†ï¼Œè‡³å°‘æˆ‘ä»¬ä¸ç”¨æ“å¿ƒæ„é€ å‡½æ•°çš„åˆ†é…é—®é¢˜äº†ã€‚ä½†æ˜¯å¤§å®¶æ³¨æ„æˆ‘åœ¨ `switch` çš„æœ«å°¾å†™äº†ä¸ªçœç•¥å·ï¼Œè¿™ä¸ªçœç•¥å·æ¯”è¾ƒææ€–ã€‚çœ‹ç€è¿™ä¸ªçœç•¥å·ï¼Œæé›·å“­äº†ï¼Œä»–æƒ³åˆ°ï¼šæ•´ä¸ªå…¬å¸ä¸Šä¸‹æœ‰æ•°åä¸ªå·¥ç§ï¼Œéš¾é“æˆ‘è¦æ‰‹å†™æ•°åä¸ªç±»ã€æ•°åè¡Œ `switch` å—ï¼Ÿ

å½“ç„¶ä¸ï¼å›åˆ°æˆ‘ä»¬æœ€åˆçš„é—®é¢˜ï¼šå¤§å®¶ä»”ç»†æƒ³æƒ³ï¼Œåœ¨æ¥¼ä¸Šè¿™ä¸¤æ®µå¹¶ä¸é‚£ä¹ˆå¥½çš„ä»£ç é‡Œï¼Œ**å˜çš„æ˜¯ä»€ä¹ˆï¼Ÿä¸å˜çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿ**

`Coder` å’Œ `ProductManager` ä¸¤ä¸ªå·¥ç§çš„å‘˜å·¥ï¼Œæ˜¯ä¸æ˜¯ä»ç„¶å­˜åœ¨éƒ½æ‹¥æœ‰ `nameã€ageã€careerã€work` è¿™å››ä¸ªå±æ€§è¿™æ ·çš„å…±æ€§ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Œåœ¨äºæ¯ä¸ªå­—æ®µå–å€¼çš„ä¸åŒï¼Œä»¥åŠ `work` å­—æ®µéœ€è¦éš `career` å­—æ®µå–å€¼çš„ä¸åŒè€Œæ”¹å˜ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯¹å…±æ€§å°è£…å¾—ä¸å¤Ÿå½»åº•ï¼Ÿé‚£ä¹ˆç›¸åº”åœ°ï¼Œå…±æ€§ä¸ä¸ªæ€§æ˜¯ä¸æ˜¯åˆ†ç¦»å¾—ä¹Ÿä¸å¤Ÿå½»åº•ï¼Ÿ
ç°åœ¨æˆ‘ä»¬æŠŠç›¸åŒçš„é€»è¾‘å°è£…å›Userç±»é‡Œï¼Œç„¶åæŠŠè¿™ä¸ªæ‰¿è½½äº†å…±æ€§çš„ `User` ç±»å’Œä¸ªæ€§åŒ–çš„é€»è¾‘åˆ¤æ–­å†™å…¥åŒä¸€ä¸ªå‡½æ•°ï¼š

``` javascript
function User(name , age, career, work) {
    this.name = name
    this.age = age
    this.career = career
    this.work = work
}

function Factory(name, age, career) {
    let work
    switch(career) {
        case 'coder':
            work =  ['å†™ä»£ç ','å†™ç³»åˆ†', 'ä¿®Bug']
            break
        case 'product manager':
            work = ['è®¢ä¼šè®®å®¤', 'å†™PRD', 'å‚¬æ›´']
            break
        case 'boss':
            work = ['å–èŒ¶', 'çœ‹æŠ¥', 'è§å®¢æˆ·']
        case 'xxx':
            // å…¶å®ƒå·¥ç§çš„èŒè´£åˆ†é…
            ...

    return new User(name, age, career, work)
}
```

è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬è¦åšäº‹æƒ…æ˜¯ä¸æ˜¯ç®€å•å¤ªå¤šäº†ï¼Ÿä¸ç”¨è‡ªå·±æ—¶åˆ»æƒ³ç€æˆ‘æ‹¿åˆ°çš„è¿™ç»„æ•°æ®æ˜¯ä»€ä¹ˆå·¥ç§ã€æˆ‘åº”è¯¥æ€ä¹ˆç»™å®ƒåˆ†é…æ„é€ å‡½æ•°ï¼Œæ›´ä¸ç”¨æ‰‹å†™æ— æ•°ä¸ªæ„é€ å‡½æ•°â€”â€”Factoryå·²ç»å¸®æˆ‘ä»¬åšå®Œäº†ä¸€åˆ‡ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦åƒä»¥å‰ä¸€æ ·**æ— è„‘ä¼ å‚**å°±å¯ä»¥äº†ï¼

##### æŠ½è±¡å·¥å‚

ä¸€ä¸ªä¸ç®€å•çš„ç®€å•å·¥å‚å¼•å‘çš„å‘½æ¡ˆ
åœ¨å®é™…çš„ä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€é¢å¯¹çš„å¤æ‚åº¦å¹¶éæ•°ä¸ªç±»ã€ä¸€ä¸ªå·¥å‚å¯ä»¥è§£å†³ï¼Œè€Œæ˜¯éœ€è¦åŠ¨ç”¨å¤šä¸ªå·¥å‚ã€‚

æˆ‘ä»¬ç»§ç»­çœ‹ä¸Šä¸ªå°èŠ‚ä¸¾å‡ºçš„ä¾‹å­ï¼Œç®€å•å·¥å‚å‡½æ•°æœ€åé•¿è¿™æ ·ï¼š

``` javascript
function Factory(name, age, career) {
    let work
    switch(career) {
        case 'coder':
            work =  ['å†™ä»£ç ','å†™ç³»åˆ†', 'ä¿®Bug']
            break
        case 'product manager':
            work = ['è®¢ä¼šè®®å®¤', 'å†™PRD', 'å‚¬æ›´']
            break
        case 'boss':
            work = ['å–èŒ¶', 'çœ‹æŠ¥', 'è§å®¢æˆ·']
        case 'xxx':
            // å…¶å®ƒå·¥ç§çš„èŒè´£åˆ†é…
            ...

    return new User(name, age, career, work)
}
```

ä¹ä¸€çœ‹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ç»ä¸èµ·æ¨æ•²å‘€ã€‚é¦–å…ˆæ˜ å…¥çœ¼å¸˜çš„ `Bug`ï¼Œæ˜¯æˆ‘ä»¬æŠŠ Boss è¿™ä¸ªè§’è‰²å’Œæ™®é€šå‘˜å·¥å¡è¿›äº†ä¸€ä¸ªå·¥å‚ã€‚å¤§å®¶çŸ¥é“ï¼ŒBoss å’ŒåŸºå±‚å‘˜å·¥åœ¨èŒèƒ½ä¸Šå·®åˆ«è¿˜æ˜¯æŒºå¤§çš„ï¼Œå…·ä½“åœ¨å‘˜å·¥ç³»ç»Ÿé‡Œæ€ä¹ˆè¡¨ç°å‘¢ï¼Ÿé¦–å…ˆä»–çš„æƒé™å°±è·Ÿå’±ä»¬ä¸ä¸€æ ·ã€‚æœ‰ä¸€äº›ç³»ç»Ÿï¼Œæ¯”å¦‚å‘˜å·¥ç»©æ•ˆè¯„ä¼°çš„æ‰“åˆ†å…¥å£ï¼Œå°±åªæœ‰ Boss ç‚¹å¾—è¿›å»ï¼Œå¯¹ä¸å¯¹ï¼Ÿé™¤æ­¤ä¹‹å¤–è¿˜æœ‰è®¸å¤šæ“ä½œï¼Œæ˜¯åªæœ‰ç®¡ç†å±‚å¯ä»¥æ‰§è¡Œçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªç¾¤ä½“çš„å¯¹è±¡è¿›è¡Œå•ç‹¬çš„é€»è¾‘å¤„ç†ã€‚

æ€ä¹ˆåŠï¼Ÿå»ä¿®æ”¹ `Factory` çš„å‡½æ•°ä½“ã€å¢åŠ ç®¡ç†å±‚ç›¸å…³çš„åˆ¤æ–­å’Œå¤„ç†é€»è¾‘å—ï¼Ÿå•ä»åŠŸèƒ½å®ç°ä¸Šæ¥è¯´ï¼Œæ²¡é—®é¢˜ã€‚ä½†è¿™ä¹ˆåšå…¶å®æ˜¯åœ¨æŒ–å‘â€”â€”å› ä¸ºå…¬å¸ä¸ä»…ä»…åªæœ‰è¿™ä¸¤ç±»äººï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¤–åŒ…åŒå­¦ã€è¿˜æœ‰ä¿å®‰ï¼Œä»–ä»¬çš„æƒé™ã€èŒèƒ½éƒ½å­˜åœ¨ç€è´¨çš„å·®åˆ«ã€‚å¦‚æœå»¶ç»­è¿™ä¸ªæ€è·¯ï¼Œæ¯è€ƒè™‘åˆ°ä¸€ä¸ªæ–°çš„å‘˜å·¥ç¾¤ä½“ï¼Œå°±å›å»ä¿®æ”¹ä¸€æ¬¡ `Factory` çš„å‡½æ•°ä½“ï¼Œè¿™æ ·åšç³Ÿç³•é€äº†â€”â€”é¦–å…ˆï¼Œæ˜¯ **`Factory`ä¼šå˜å¾—å¼‚å¸¸åºå¤§**ï¼Œåºå¤§åˆ°ä½ æ¯æ¬¡æ·»åŠ çš„æ—¶å€™éƒ½ä¸æ•¢ä¸‹æ‰‹ï¼Œç”Ÿæ€•è‡ªå·±ä¸‡ä¸€å†™å‡ºä¸€ä¸ª`Bug`ï¼Œå°±ä¼šå¯¼è‡´æ•´ä¸ª`Factory`çš„å´©åï¼Œè¿›è€Œæ‘§æ¯æ•´ä¸ªç³»ç»Ÿï¼›å…¶æ¬¡ï¼Œä½ å‘æ­»äº†ä½ çš„é˜Ÿå‹ï¼š`Factory` çš„é€»è¾‘è¿‡äºç¹æ‚å’Œæ··ä¹±ï¼Œæ²¡äººæ•¢ç»´æŠ¤å®ƒï¼›æœ€åï¼Œä½ è¿˜è¿å¸¦å‘äº†éš”å£çš„æµ‹è¯•åŒå­¦ï¼šä½ æ¯æ¬¡æ–°åŠ ä¸€ä¸ªå·¥ç§ï¼Œä»–éƒ½ä¸å¾—ä¸å¯¹æ•´ä¸ª`Factory` çš„é€»è¾‘è¿›è¡Œå›å½’â€”â€”è°è®©ä½ çš„æ”¹å˜æ˜¯åœ¨ `Factory`å†…éƒ¨åŸåœ°å‘ç”Ÿçš„å‘¢ï¼è¿™ä¸€åˆ‡æ‚²å‰§çš„æ ¹æºåªæœ‰ä¸€ä¸ªâ€”â€”**æ²¡æœ‰éµå®ˆå¼€æ”¾å°é—­åŸåˆ™**ã€‚

æˆ‘ä»¬å†å¤ä¹ ä¸€ä¸‹å¼€æ”¾å°é—­åŸåˆ™çš„å†…å®¹ï¼šå¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚è¯´å¾—æ›´å‡†ç¡®ç‚¹ï¼Œ**è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ï¼‰å¯ä»¥æ‰©å±•ï¼Œä½†æ˜¯ä¸å¯ä¿®æ”¹**ã€‚æ¥¼ä¸Šè¿™æ³¢æ“ä½œé”™å°±é”™åœ¨æˆ‘ä»¬ä¸æ˜¯åœ¨æ‹“å±•ï¼Œè€Œæ˜¯åœ¨ç–¯ç‹‚åœ°ä¿®æ”¹ã€‚
***æŠ½è±¡å·¥å‚æ¨¡å¼***
ä¸Šé¢è¿™æ®µå¯èƒ½ä»æœ‰éƒ¨åˆ†åŒå­¦è§‰å¾—æŠ½è±¡ï¼Œä¹Ÿæ²¡å…³ç³»ã€‚è¿™é‡Œå’±ä»¬å…ˆä¸æ€¥ç€ç†è§£é€å½»è¿™ä¸ªå¹²å·´å·´çš„æ¦‚å¿µï¼Œå…ˆæ¥çœ‹è¿™ä¹ˆä¸€ä¸ªç¤ºä¾‹ï¼š

å¤§å®¶çŸ¥é“ä¸€éƒ¨æ™ºèƒ½æ‰‹æœºçš„åŸºæœ¬ç»„æˆæ˜¯æ“ä½œç³»ç»Ÿï¼ˆ`Operating System`ï¼Œæˆ‘ä»¬ä¸‹é¢ç¼©å†™ä½œ `OS`ï¼‰å’Œç¡¬ä»¶ï¼ˆ`HardWare`ï¼‰ç»„æˆã€‚æ‰€ä»¥è¯´å¦‚æœæˆ‘è¦å¼€ä¸€ä¸ªå±±å¯¨æ‰‹æœºå·¥å‚ï¼Œé‚£æˆ‘è¿™ä¸ªå·¥å‚é‡Œå¿…é¡»æ˜¯æ—¢å‡†å¤‡å¥½äº†æ“ä½œç³»ç»Ÿï¼Œä¹Ÿå‡†å¤‡å¥½äº†ç¡¬ä»¶ï¼Œæ‰èƒ½å®ç°æ‰‹æœºçš„**é‡äº§**ã€‚è€ƒè™‘åˆ°æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶è¿™ä¸¤æ ·ä¸œè¥¿èƒŒåä¹Ÿå­˜åœ¨ä¸åŒçš„å‚å•†ï¼Œè€Œæˆ‘ç°åœ¨**å¹¶ä¸çŸ¥é“æˆ‘ä¸‹ä¸€ä¸ªç”Ÿäº§çº¿åˆ°åº•å…·ä½“æƒ³ç”Ÿäº§ä¸€å°ä»€ä¹ˆæ ·çš„æ‰‹æœº**ï¼Œæˆ‘åªçŸ¥é“æ‰‹æœºå¿…é¡»æœ‰è¿™ä¸¤éƒ¨åˆ†ç»„æˆï¼Œæ‰€ä»¥æˆ‘å…ˆæ¥ä¸€ä¸ªæŠ½è±¡ç±»æ¥**çº¦å®šä½è¿™å°æ‰‹æœºçš„åŸºæœ¬ç»„æˆ**ï¼š

``` javascript
class MobilePhoneFactory {
    // æä¾›æ“ä½œç³»ç»Ÿçš„æ¥å£
    createOS(){
        throw new Error("æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼");
    }
    // æä¾›ç¡¬ä»¶çš„æ¥å£
    createHardWare(){
        throw new Error("æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼");
    }
}
```

æ¥¼ä¸Šè¿™ä¸ªç±»ï¼Œé™¤äº†çº¦å®šæ‰‹æœºæµæ°´çº¿çš„é€šç”¨èƒ½åŠ›ä¹‹å¤–ï¼Œå•¥ä¹Ÿä¸å¹²ã€‚å¦‚æœä½ å°è¯•è®©å®ƒå¹²ç‚¹å•¥ï¼Œæ¯”å¦‚ `new` ä¸€ä¸ª `MobilePhoneFactory` å®ä¾‹ï¼Œå¹¶å°è¯•è°ƒç”¨å®ƒçš„å®ä¾‹æ–¹æ³•ã€‚å®ƒè¿˜ä¼šç»™ä½ æŠ¥é”™ï¼Œæé†’ä½ â€œæˆ‘ä¸æ˜¯è®©ä½ æ‹¿å»`new`ä¸€ä¸ªå®ä¾‹çš„ï¼Œæˆ‘å°±æ˜¯ä¸ªå®šè§„çŸ©çš„â€ã€‚åœ¨æŠ½è±¡å·¥å‚æ¨¡å¼é‡Œï¼Œæ¥¼ä¸Šè¿™ä¸ªç±»å°±æ˜¯æˆ‘ä»¬é£Ÿç‰©é“¾é¡¶ç«¯æœ€å¤§çš„ Bossâ€”â€”`AbstractFactory`ï¼ˆæŠ½è±¡å·¥å‚ï¼‰ã€‚

æŠ½è±¡å·¥å‚ä¸å¹²æ´»ï¼Œå…·ä½“å·¥å‚ï¼ˆ`ConcreteFactory`ï¼‰æ¥å¹²æ´»ï¼å½“æˆ‘ä»¬æ˜ç¡®äº†ç”Ÿäº§æ–¹æ¡ˆï¼Œæ˜ç¡®æŸä¸€æ¡æ‰‹æœºç”Ÿäº§æµæ°´çº¿å…·ä½“è¦ç”Ÿäº§ä»€ä¹ˆæ ·çš„æ‰‹æœºäº†ä¹‹åï¼Œå°±å¯ä»¥åŒ–æŠ½è±¡ä¸ºå…·ä½“ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨æƒ³è¦ä¸€ä¸ªä¸“é—¨ç”Ÿäº§ `Android` ç³»ç»Ÿ + é«˜é€šç¡¬ä»¶çš„æ‰‹æœºçš„ç”Ÿäº§çº¿ï¼Œæˆ‘ç»™è¿™ç±»æ‰‹æœºå‹å·èµ·åå« `FakeStar`ï¼Œé‚£æˆ‘å°±å¯ä»¥ä¸º `FakeStar` å®šåˆ¶ä¸€ä¸ªå…·ä½“å·¥å‚ï¼š

``` javascript
// å…·ä½“å·¥å‚ç»§æ‰¿è‡ªæŠ½è±¡å·¥å‚
class FakeStarFactory extends MobilePhoneFactory {
    createOS() {
        // æä¾›å®‰å“ç³»ç»Ÿå®ä¾‹
        return new AndroidOS()
    }
    createHardWare() {
        // æä¾›é«˜é€šç¡¬ä»¶å®ä¾‹
        return new QualcommHardWare()
    }
}
```

è¿™é‡Œæˆ‘ä»¬åœ¨æä¾›å®‰å“ç³»ç»Ÿçš„æ—¶å€™ï¼Œè°ƒç”¨äº†ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼šAndroidOS å’Œ QualcommHardWareï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºç”Ÿæˆå…·ä½“çš„æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶å®ä¾‹ã€‚åƒè¿™ç§è¢«æˆ‘ä»¬æ‹¿æ¥ç”¨äº new å‡ºå…·ä½“å¯¹è±¡çš„ç±»ï¼Œå«åšå…·ä½“äº§å“ç±»ï¼ˆConcreteProductï¼‰ã€‚å…·ä½“äº§å“ç±»å¾€å¾€ä¸ä¼šå­¤ç«‹å­˜åœ¨ï¼Œä¸åŒçš„å…·ä½“äº§å“ç±»å¾€å¾€æœ‰ç€å…±åŒçš„åŠŸèƒ½ï¼Œæ¯”å¦‚å®‰å“ç³»ç»Ÿç±»å’Œè‹¹æœç³»ç»Ÿç±»ï¼Œå®ƒä»¬éƒ½æ˜¯æ“ä½œç³»ç»Ÿï¼Œéƒ½æœ‰ç€å¯ä»¥**æ“æ§æ‰‹æœºç¡¬ä»¶ç³»ç»Ÿ**è¿™æ ·ä¸€ä¸ªæœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª**æŠ½è±¡äº§å“ï¼ˆAbstractProductï¼‰ç±»**æ¥å£°æ˜è¿™ä¸€ç±»äº§å“åº”è¯¥å…·æœ‰çš„åŸºæœ¬åŠŸèƒ½ï¼ˆä¼—ï¼šä»€ä¹ˆæŠ½è±¡äº§å“ï¼Ÿï¼Ÿï¼Ÿè¦è¿™äº›ç©æ„å„¿å¹²å•¥ï¼Ÿè€å¤«å†™ä»£ç å°±æ˜¯ä¸€æŠŠæ¢­ï¼Œä¸ºå•¥ä¸è®©æˆ‘è€è€å®å®ä¸€ä¸ªä¸€ä¸ªå†™å…·ä½“ç±»ï¼Ÿï¼Ÿï¼Ÿå¤§å®¶ç¨å®‰å‹¿èºï¼Œå…ˆæŠŠä¾‹å­çœ‹å®Œï¼Œä¸‹æ–‡ä¼šæœ‰è§£é‡Šï¼‰

``` javascript
// å®šä¹‰æ“ä½œç³»ç»Ÿè¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»
class OS {
    controlHardWare() {
        throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼');
    }
}

// å®šä¹‰å…·ä½“æ“ä½œç³»ç»Ÿçš„å…·ä½“äº§å“ç±»
class AndroidOS extends OS {
    controlHardWare() {
        console.log('æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶')
    }
}

class AppleOS extends OS {
    controlHardWare() {
        console.log('æˆ‘ä¼šç”¨ğŸçš„æ–¹å¼å»æ“ä½œç¡¬ä»¶')
    }
}
...
```

ç¡¬ä»¶ç±»äº§å“åŒç†ï¼š

``` javascript
// å®šä¹‰æ‰‹æœºç¡¬ä»¶è¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»
class HardWare {
    // æ‰‹æœºç¡¬ä»¶çš„å…±æ€§æ–¹æ³•ï¼Œè¿™é‡Œæå–äº†â€œæ ¹æ®å‘½ä»¤è¿è½¬â€è¿™ä¸ªå…±æ€§
    operateByOrder() {
        throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼');
    }
}

// å®šä¹‰å…·ä½“ç¡¬ä»¶çš„å…·ä½“äº§å“ç±»
class QualcommHardWare extends HardWare {
    operateByOrder() {
        console.log('æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬')
    }
}

class MiWare extends HardWare {
    operateByOrder() {
        console.log('æˆ‘ä¼šç”¨å°ç±³çš„æ–¹å¼å»è¿è½¬')
    }
}
...
```

å¥½äº†ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬éœ€è¦ç”Ÿäº§ä¸€å°`FakeStar`æ‰‹æœºæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è¿™æ ·åšï¼š

``` javascript
// è¿™æ˜¯æˆ‘çš„æ‰‹æœº
const myPhone = new FakeStarFactory()
// è®©å®ƒæ‹¥æœ‰æ“ä½œç³»ç»Ÿ
const myOS = myPhone.createOS()
// è®©å®ƒæ‹¥æœ‰ç¡¬ä»¶
const myHardWare = myPhone.createHardWare()
// å¯åŠ¨æ“ä½œç³»ç»Ÿ(è¾“å‡ºâ€˜æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶â€™)
myOS.controlHardWare()
// å”¤é†’ç¡¬ä»¶(è¾“å‡ºâ€˜æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬â€™)
myHardWare.operateByOrder()
```

å…³é”®çš„æ—¶åˆ»æ¥äº†â€”â€”å‡å¦‚æœ‰ä¸€å¤©ï¼Œ`FakeStar`è¿‡æ°”äº†ï¼Œæˆ‘ä»¬éœ€è¦äº§å‡ºä¸€æ¬¾æ–°æœºæŠ•å…¥å¸‚åœºï¼Œè¿™æ—¶å€™æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬æ˜¯ä¸æ˜¯**ä¸éœ€è¦å¯¹æŠ½è±¡å·¥å‚`MobilePhoneFactory`åšä»»ä½•ä¿®æ”¹**ï¼Œåªéœ€è¦æ‹“å±•å®ƒçš„ç§ç±»ï¼š

``` javascript
class newStarFactory extends MobilePhoneFactory {
    createOS() {
        // æ“ä½œç³»ç»Ÿå®ç°ä»£ç 
    }
    createHardWare() {
        // ç¡¬ä»¶å®ç°ä»£ç 
    }
}
```

è¿™ä¹ˆä¸ªæ“ä½œï¼Œ**å¯¹åŸæœ‰çš„ç³»ç»Ÿä¸ä¼šé€ æˆä»»ä½•æ½œåœ¨å½±å“** æ‰€è°“çš„â€œå¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­â€å°±è¿™ä¹ˆåœ†æ»¡å®ç°äº†ã€‚å‰é¢æˆ‘ä»¬ä¹‹æ‰€ä»¥è¦å®ç°**æŠ½è±¡äº§å“ç±»**ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚

æ€»ç»“
å¤§å®¶ç°åœ¨å›å¤´å¯¹æ¯”ä¸€ä¸‹æŠ½è±¡å·¥å‚å’Œç®€å•å·¥å‚çš„æ€è·¯ï¼Œæ€è€ƒä¸€ä¸‹ï¼šå®ƒä»¬ä¹‹é—´æœ‰å“ªäº›å¼‚åŒï¼Ÿ

å®ƒä»¬çš„å…±åŒç‚¹ï¼Œåœ¨äºéƒ½**å°è¯•å»åˆ†ç¦»ä¸€ä¸ªç³»ç»Ÿä¸­å˜ä¸ä¸å˜çš„éƒ¨åˆ†**ã€‚å®ƒä»¬çš„ä¸åŒåœ¨äº**åœºæ™¯çš„å¤æ‚åº¦**ã€‚åœ¨ç®€å•å·¥å‚çš„ä½¿ç”¨åœºæ™¯é‡Œï¼Œå¤„ç†çš„å¯¹è±¡æ˜¯ç±»ï¼Œå¹¶ä¸”æ˜¯ä¸€äº›éå¸¸å¥½å¯¹ä»˜çš„ç±»â€”â€”å®ƒä»¬çš„å…±æ€§å®¹æ˜“æŠ½ç¦»ï¼ŒåŒæ—¶å› ä¸ºé€»è¾‘æœ¬èº«æ¯”è¾ƒç®€å•ï¼Œæ•…è€Œä¸è‹›æ±‚ä»£ç å¯æ‰©å±•æ€§ã€‚æŠ½è±¡å·¥å‚æœ¬è´¨ä¸Šå¤„ç†çš„å…¶å®ä¹Ÿæ˜¯ç±»ï¼Œä½†æ˜¯æ˜¯ä¸€å¸®éå¸¸æ£˜æ‰‹ã€ç¹æ‚çš„ç±»ï¼Œè¿™äº›ç±»ä¸­ä¸ä»…èƒ½åˆ’åˆ†å‡ºé—¨æ´¾ï¼Œè¿˜èƒ½åˆ’åˆ†å‡ºç­‰çº§ï¼ŒåŒæ—¶å­˜åœ¨ç€åƒå˜ä¸‡åŒ–çš„æ‰©å±•å¯èƒ½æ€§â€”â€”è¿™ä½¿å¾—æˆ‘ä»¬å¿…é¡»å¯¹å…±æ€§ä½œæ›´ç‰¹åˆ«çš„å¤„ç†ã€ä½¿ç”¨æŠ½è±¡ç±»å»é™ä½æ‰©å±•çš„æˆæœ¬ï¼ŒåŒæ—¶éœ€è¦å¯¹ç±»çš„æ€§è´¨ä½œåˆ’åˆ†ï¼Œäºæ˜¯æœ‰äº†è¿™æ ·çš„å››ä¸ªå…³é”®è§’è‰²ï¼š

æŠ½è±¡å·¥å‚ï¼ˆæŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹ï¼‰
: ç”¨äºå£°æ˜æœ€ç»ˆç›®æ ‡äº§å“çš„å…±æ€§ã€‚åœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥æœ‰å¤šä¸ªï¼ˆå¤§å®¶å¯ä»¥æƒ³è±¡æˆ‘ä»¬çš„æ‰‹æœºå‚åæ¥è¢«ä¸€ä¸ªæ›´å¤§çš„å‚æ”¶è´­äº†ï¼Œè¿™ä¸ªå‚é‡Œé™¤äº†æ‰‹æœºæŠ½è±¡ç±»ï¼Œè¿˜æœ‰å¹³æ¿ã€æ¸¸æˆæœºæŠ½è±¡ç±»ç­‰ç­‰ï¼‰ï¼Œæ¯ä¸€ä¸ªæŠ½è±¡å·¥å‚å¯¹åº”çš„è¿™ä¸€ç±»çš„äº§å“ï¼Œè¢«ç§°ä¸ºâ€œäº§å“æ—â€ã€‚

å…·ä½“å·¥å‚ï¼ˆç”¨äºç”Ÿæˆäº§å“æ—é‡Œçš„ä¸€ä¸ªå…·ä½“çš„äº§å“ï¼‰
: ç»§æ‰¿è‡ªæŠ½è±¡å·¥å‚ã€å®ç°äº†æŠ½è±¡å·¥å‚é‡Œå£°æ˜çš„é‚£äº›æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå…·ä½“çš„äº§å“çš„ç±»ã€‚

æŠ½è±¡äº§å“ï¼ˆæŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹ï¼‰
: ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°ï¼Œå…·ä½“å·¥å‚é‡Œå®ç°çš„æ¥å£ï¼Œä¼šä¾èµ–ä¸€äº›ç±»ï¼Œè¿™äº›ç±»å¯¹åº”åˆ°å„ç§å„æ ·çš„å…·ä½“çš„ç»†ç²’åº¦äº§å“ï¼ˆæ¯”å¦‚æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶ç­‰ï¼‰ï¼Œè¿™äº›å…·ä½“äº§å“ç±»çš„å…±æ€§å„è‡ªæŠ½ç¦»ï¼Œä¾¿å¯¹åº”åˆ°äº†å„è‡ªçš„æŠ½è±¡äº§å“ç±»ã€‚

å…·ä½“äº§å“ï¼ˆç”¨äºç”Ÿæˆäº§å“æ—é‡Œçš„ä¸€ä¸ªå…·ä½“çš„äº§å“æ‰€ä¾èµ–çš„æ›´ç»†ç²’åº¦çš„äº§å“ï¼‰
: æ¯”å¦‚æˆ‘ä»¬ä¸Šæ–‡ä¸­å…·ä½“çš„ä¸€ç§æ“ä½œç³»ç»Ÿã€æˆ–å…·ä½“çš„ä¸€ç§ç¡¬ä»¶ç­‰ã€‚

æŠ½è±¡å·¥å‚æ¨¡å¼çš„å®šä¹‰ï¼Œæ˜¯**å›´ç»•ä¸€ä¸ªè¶…çº§å·¥å‚åˆ›å»ºå…¶ä»–å·¥å‚**ã€‚æœ¬èŠ‚å†…å®¹å¯¹ä¸€äº›å·¥ä½œå¹´é™ä¸å¤šçš„åŒå­¦æ¥è¯´å¯èƒ½ä¸å¤ªå‹å¥½ï¼Œä½†æŠ½è±¡å·¥å‚ç›®å‰æ¥è¯´åœ¨JSä¸–ç•Œé‡Œä¹Ÿåº”ç”¨å¾—å¹¶ä¸å¹¿æ³›ï¼Œæ‰€ä»¥å¤§å®¶ä¸å¿…æ‹˜æ³¥äºç»†èŠ‚ï¼Œåªéœ€ç•™æ„ä»¥ä¸‹ä¸‰ç‚¹ï¼š

1. å­¦ä¼šç”¨ ES6 æ¨¡æ‹Ÿ JAVA ä¸­çš„æŠ½è±¡ç±»ï¼›
1. äº†è§£æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­å››ä¸ªè§’è‰²çš„å®šä½ä¸ä½œç”¨ï¼›
1. å¯¹â€œå¼€æ”¾å°é—­åŸåˆ™â€å½¢æˆè‡ªå·±çš„ç†è§£ï¼ŒçŸ¥é“å®ƒå¥½åœ¨å“ªï¼ŒçŸ¥é“æ‰§è¡Œå®ƒçš„å¿…è¦æ€§ã€‚

å¦‚æœèƒ½å¯¹è¿™ä¸‰ç‚¹æœ‰æ‰€æŒæ¡ï¼Œé‚£ä¹ˆè¿™ä¸€èŠ‚çš„ç›®çš„å°±è¾¾åˆ°äº†ï¼Œæœ€éš¾æã€æœ€éš¾å—çš„æŠ½è±¡å·¥å‚ä¹Ÿå°±å‘Šä¸€æ®µè½äº†ã€‚

#### å•ä¾‹æ¨¡å¼

### è„‘æ´å¤§å¼€

  å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæœ‰ä¸ªå«é˜¿éš†ä½Â·é‚±å¥‡çš„å¸…å“¥ï¼Œå‘ç°åªéœ€è¦ç”¨å‡½æ•°ï¼Œå°±å¯ä»¥ç”¨è®¡ç®—æœºå®ç°è¿ç®—ï¼Œè€Œä¸éœ€è¦`0ã€1ã€2ã€3`è¿™äº›æ•°å­—å’Œ`+ã€-ã€*ã€/`è¿™äº›ç¬¦å·ã€‚

  JavaScriptæ”¯æŒå‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥ç”¨JavaScriptç”¨å‡½æ•°æ¥å†™è¿™äº›è®¡ç®—ã€‚æ¥è¯•è¯•ï¼š

  ```javascript
    'use strict'

    // å®šä¹‰æ•°å­—0:
    var zero = function (f) {
      return function (x) {
        return x
      }
    }

    // å®šä¹‰æ•°å­—1:
    var one = function (f) {
      return function (x) {
        return f(x)
      }
    }

    // å®šä¹‰åŠ æ³•:
    function add(n, m) {
      return function (f) {
        return function (x) {
          return m(f)(n(f)(x))
        }
      }
    }
    // è®¡ç®—æ•°å­—2 = 1 + 1:
    var two = add(one, one)
    // è®¡ç®—æ•°å­—3 = 1 + 2:
    var three = add(one, two)
    // è®¡ç®—æ•°å­—5 = 2 + 3:
    var five = add(two, three)
    // ä½ è¯´å®ƒæ˜¯3å°±æ˜¯3ï¼Œä½ è¯´å®ƒæ˜¯5å°±æ˜¯5ï¼Œä½ æ€ä¹ˆè¯æ˜ï¼Ÿ
    // å‘µå‘µï¼Œçœ‹è¿™é‡Œ:
    // ç»™3ä¼ ä¸€ä¸ªå‡½æ•°,ä¼šæ‰“å°3æ¬¡:
    (three(function () {
      console.log('print 3 times')
    }))()

    // ç»™5ä¼ ä¸€ä¸ªå‡½æ•°,ä¼šæ‰“å°5æ¬¡:
    (five(function () {
      console.log('print 5 times')
    }))()

    // ç»§ç»­æ¥ç€ç©ä¸€ä¼š...
  ```
